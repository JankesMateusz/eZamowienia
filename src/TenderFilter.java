import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class TenderFilter {

    List<Tender> tenders;
    String[] cpv = {"30120000-6", "30121000-3", "30121000-4", "30122000-5", "30121300-6",
                    "30121430-6", "30191000-4", "30200000-1", "30210000-4", "30211000-1",
                    "30211100-2", "30211200-3", "30211300-4", "30211400-5", "30211500-6",
                    "30212000-8", "30212100-9", "30213000-5", "30213100-6", "30213200-7",
                    "30213300-8", "30213400-9", "30213500-0", "30214000-2", "30215000-9",
                    "30215100-0", "30216110-0", "30230000-0", "30231000-7", "30231100-8",
                    "30231200-9", "30231300-0", "30231310-3", "30231320-6", "30230000-0",
                    "30232100-5", "30232110-8", "30232120-1", "30232130-4", "30232140-7",
                    "30232150-0", "30232700-1", "30233000-1", "30233100-2", "30233140-4",
                    "30233141-1", "30233180-6", "30236000-2", "30236200-4", "30237450-8",
                    "32260000-3", "32321200-1", "32322000-6", "32323000-3", "32323100-4",
                    "32351299-0", "32420000-3", "32424000-1", "32430000-6", "48000000-8",
                    "48190000-6", "48212000-7", "48214000-1", "48218000-9", "48300000-1",
                    "48310000-4", "48311000-1", "48311100-2", "48312000-8", "48317000-3",
                    "48517000-5", "48600000-4", "48610000-7", "48620000-0", "48611000-4",
                    "48612000-1", "48624000-8", "48700000-5", "48771000-3", "48781000-6",
                    "48990000-4", "48991000-1", "48800000-6", "48820000-2", "48821000-9",
                    "48823000-3", "39162100-6"};

    List<String> cpvList;

    public TenderFilter(List<Tender> tenders){

        this.tenders = tenders;
        this.cpvList = Arrays.asList(cpv);
    }

    public List<Tender> filterTenders(){

        List<Tender> filtered = new ArrayList<>();

        for (Tender tender : tenders) {

            if(tender.getCpvNumbers()
                    .stream()
                    .anyMatch(t -> cpvList.contains(t))){
                filtered.add(tender);
            }
        }
        return filtered;
    }
}